(this["webpackJsonpfood-app"]=this["webpackJsonpfood-app"]||[]).push([[0],{58:function(e,t,a){},59:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),o=a.n(c),s=a(20),r=a.n(s),i=(a(58),a(11)),d=(a(59),a(17)),l=a(27),u=a(15),j=a.n(u),b=a(30),f=a(36),m=a(21),h=(a(64),a(48),a(18)),O=function e(t,a,n,c){Object(h.a)(this,e),this.id=t,this.name=a,this.bags=n,this.foods=c},x=function e(t,a,n){Object(h.a)(this,e),this.id=t,this.name=a,this.nutrition=n},p=function e(t,a,n,c){Object(h.a)(this,e),this.fat=t,this.saturatedFat=a,this.sugar=n,this.salt=c},g=(a(65),function e(t,a){Object(h.a)(this,e),this.name=t,this.link=a}),v=o.a.createContext({itemHistory:new Array,addFoodToHistory:function(e){console.log("Default called. Define RecentItemsContext: addFoodToHistory")},addBagToHistory:function(){}}),N=function(e){var t=e.nameParam,a=e.updatedFoodCallback,s="Open",r=o.a.useState({name:"",fat:"0",saturatedFat:"0",sugar:"0",salt:"0",id:0}),u=Object(i.a)(r,2),h=u[0],O=u[1],g=o.a.useState(""),N=Object(i.a)(g,2),y=N[0],F=N[1],C=o.a.useState(s),S=Object(i.a)(C,2),w=S[0],k=S[1],H=Object(c.useContext)(v),I=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(t),a=new x(0,"",new p(0,0,0,0)),0!=t.trimEnd().length){e.next=5;break}return P(a),e.abrupt("return");case 5:return e.next=7,fetch("https://localhost:5001/api/Food/"+t);case 7:if(200!==(n=e.sent).status){e.next=19;break}return e.next=11,n.json();case 11:c=e.sent,console.log(c),P(c),k("Save"),H.addFoodToHistory(t),e.next=20;break;case 19:P(a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){O({name:e.name,fat:String(e.nutrition.fat),saturatedFat:String(e.nutrition.saturatedFat),sugar:String(e.nutrition.sugar),salt:String(e.nutrition.salt),id:e.id})},T=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://localhost:5001/api/Food/",a);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){I(t)}),[t]);var A=function(e){var t;t=e.target.value,(!Object(f.isArray)(t)&&t-parseFloat(t)+1>=0||""===e.target.value)&&O(Object(d.a)(Object(d.a)({},h),{},Object(l.a)({},e.target.name,e.target.value)))};var B=function(){I(y)},D=function(){var e=new x(h.id,h.name,new p(Number(h.fat),Number(h.saturatedFat),Number(h.sugar),Number(h.salt)));T(e),a(h.id)};return Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),w===s?B():D()},children:Object(n.jsxs)("div",{className:"food-layout",children:[Object(n.jsx)("label",{className:"food-label",children:"Name"}),Object(n.jsx)("input",{name:"name",value:y,onChange:function(e){var t=e.target.value;F(t)}}),Object(n.jsx)("label",{className:"food-label",children:"Fat"}),Object(n.jsx)("input",{name:"fat",type:"number",value:h.fat,onChange:function(e){return A(e)}}),Object(n.jsx)("label",{className:"food-label",children:"Saturated Fat"}),Object(n.jsx)("input",{name:"saturatedFat",className:".food-label",type:"number",value:h.saturatedFat,onChange:function(e){return A(e)}}),Object(n.jsx)("label",{className:"food-label",children:"Sugar"}),Object(n.jsx)("input",{name:"sugar",className:".food-label",type:"number",value:h.sugar,onChange:function(e){return A(e)}}),Object(n.jsx)("label",{className:"food-label",children:"Salt"}),Object(n.jsx)("input",{name:"salt",className:".food-label",type:"number",value:h.salt,onChange:function(e){return A(e)}}),Object(n.jsx)("label",{id:"placeholder"}),Object(n.jsx)(m.a,{type:"submit",className:"submit-button",children:w})]})})},y=function(e){var t=e.nameParam,a="Open",s=o.a.useState({id:"0",name:"",item:new O(0,"",[],[]),foodNodes:new Array,bagNodes:new Array}),r=Object(i.a)(s,2),d=r[0],l=r[1],u=o.a.useState(!1),f=Object(i.a)(u,2),h=f[0],x=f[1],p=o.a.useState(""),g=Object(i.a)(p,2),v=g[0],y=g[1],F=o.a.useState(a),C=Object(i.a)(F,2),S=C[0],w=C[1],k=o.a.useState(""),H=Object(i.a)(k,2),I=H[0],P=H[1],T=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new O(0,d.name,new Array,new Array),null!=t&&0!=t.trimEnd().length){e.next=4;break}return A(a),e.abrupt("return");case 4:return e.next=6,fetch("https://localhost:5001/api/Bag/"+t);case 6:if(200!==(n=e.sent).status){e.next=17;break}return e.next=10,n.json();case 10:c=e.sent,console.log(c),A(c),w("Save"),e.next=18;break;case 17:A(a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){l({id:e.id.toString(),name:e.name,item:e,foodNodes:e.foods,bagNodes:e.bags})},B=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://localhost:5001/api/Bag/",a);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){T(t)}),[t]);var D=function(){T(v)},E=function(){var e=new O(Number(d.id),d.name,d.bagNodes,d.foodNodes);B(e)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),S===a?D():E()},children:Object(n.jsxs)("div",{className:"bag-layout",children:[Object(n.jsx)("label",{className:"bag-label",children:"Name"}),Object(n.jsx)("input",{name:"name",value:v,onChange:function(e){var t=e.target.value;y(t)}}),Object(n.jsx)("label",{}),Object(n.jsx)("label",{children:"Bag Items"}),d.bagNodes.map((function(e){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("label",{},e.bag.id),Object(n.jsxs)("div",{className:"node-list",children:[Object(n.jsxs)("select",{value:e.quantity,onChange:function(t){console.log("handleFoodQtyChanged"),function(e,t){var a=Number(t.target.value);l({id:d.id,name:d.name,item:d.item,foodNodes:d.foodNodes,bagNodes:d.bagNodes.map((function(t){return t.bag.id==e.bag.id&&(t.quantity=a),t}))})}(e,t)},children:[Object(n.jsx)("option",{children:"1"}),Object(n.jsx)("option",{children:"2"}),Object(n.jsx)("option",{children:"3"}),Object(n.jsx)("option",{children:"4"}),Object(n.jsx)("option",{children:"5"})]},e.bag.id),Object(n.jsxs)(m.a,{variant:"outline-secondary",size:"sm",active:!0,children:[" ",e.bag.name]})]},e.bag.id)]},e.bag.id)})),Object(n.jsx)("label",{}),Object(n.jsx)("label",{children:"Food Items"}),d.foodNodes.map((function(e){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("label",{},e.food.id),Object(n.jsxs)("div",{className:"node-list",children:[Object(n.jsxs)("select",{value:e.quantity,onChange:function(t){console.log("handleFoodQtyChanged"),function(e,t){var a=Number(t.target.value);l({id:d.id,name:d.name,item:d.item,bagNodes:d.bagNodes,foodNodes:d.foodNodes.map((function(t){return t.food.id==e.food.id&&(t.quantity=a),t}))})}(e,t)},children:[Object(n.jsx)("option",{children:"1"}),Object(n.jsx)("option",{children:"2"}),Object(n.jsx)("option",{children:"3"}),Object(n.jsx)("option",{children:"4"}),Object(n.jsx)("option",{children:"5"})]},e.food.id),Object(n.jsxs)(m.a,{variant:"outline-secondary",size:"sm",active:!0,onClick:function(){return t=e.food.name,void P(t);var t},children:[" ",e.food.name]},e.food.id)]},e.food.id)]},e.food.id)})),Object(n.jsx)("label",{children:1==h?"modified":""}),Object(n.jsx)("label",{id:"placeholder"}),Object(n.jsx)(m.a,{type:"submit",className:"submit-button",children:S})]})}),Object(n.jsxs)("div",{className:"selected-food",children:[Object(n.jsx)("div",{className:"item1"}),Object(n.jsx)("div",{className:"item2",children:""!=I.trim()&&Object(n.jsx)(N,{nameParam:I,updatedFoodCallback:function(e){x(!0)}})})]})]})},F=a(7),C=a(44),S=a(34),w=a(47),k=a(25),H=a(33),I=function(){var e=Object(F.f)(),t=c.useContext(v);return Object(n.jsx)("div",{children:Object(n.jsxs)(H.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(H.a.Brand,{href:"#home",children:"Food Helper App"}),Object(n.jsx)(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(H.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsxs)(w.a,{className:"mr-auto",children:[Object(n.jsx)(w.a.Link,{href:"/food",children:"Home"}),Object(n.jsx)(k.a,{title:"Recent Items",id:"basic-nav-dropdown",children:t.itemHistory.map((function(t,a){return Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)(k.a.Item,{onClick:function(){e.push(t.link)},children:[" ",t.name+" "+a.toString()]},a)})}))}),Object(n.jsxs)(k.a,{title:"Items",id:"basic-nav-dropdown",children:[Object(n.jsx)(k.a.Item,{onClick:function(){return e.push("/bag")},children:"Bag"}),Object(n.jsx)(k.a.Item,{onClick:function(){return e.push("/food")},children:"Food"}),Object(n.jsx)(k.a.Item,{href:"/food",children:"Food (href)"})]})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsxs)(S.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(n.jsx)(S.a.Label,{children:"Custom select"}),Object(n.jsxs)(S.a.Control,{as:"select",custom:!0,children:[Object(n.jsx)("option",{children:"abc"}),Object(n.jsx)("option",{children:"acbd"}),Object(n.jsx)("option",{children:"acad"}),Object(n.jsx)("option",{children:"4"}),Object(n.jsx)("option",{children:"5"})]})]}),Object(n.jsx)(m.a,{variant:"outline-success",children:"Search"})]})]})]})})},P=function(){Object(F.f)();var e=c.useState({itemHistory:new Array,addFoodToHistory:function(e){console.log("MainPage.ts: RecentItemsContext: addFoodItemToHistory");var t=new g(e,"/food/"+e);a.itemHistory.concat(t);o((function(e){return Object(d.a)(Object(d.a)({},e),{},{itemHistory:e.itemHistory.concat(t)})}))},addBagToHistory:function(){}}),t=Object(i.a)(e,2),a=t[0],o=t[1];return Object(n.jsx)(C.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(v.Provider,{value:a,children:[Object(n.jsx)(I,{}),Object(n.jsxs)(F.c,{children:[Object(n.jsx)(F.a,{path:"/food/:foodName",render:function(e){return Object(n.jsx)(N,{nameParam:e.match.params.foodName,updatedFoodCallback:function(e){}})}}),Object(n.jsx)(F.a,{exact:!0,path:"/food",render:function(e){return Object(n.jsx)(N,{nameParam:"",updatedFoodCallback:function(e){}})}}),Object(n.jsx)(F.a,{path:"/bag/:bagName",render:function(e){return Object(n.jsx)(y,{nameParam:e.match.params.bagName})}}),Object(n.jsx)(F.a,{exact:!0,path:"/bag",render:function(e){return Object(n.jsx)(y,{nameParam:e.match.params.bagName})}}),Object(n.jsx)(F.a,{exact:!0,path:"/",render:function(e){return Object(n.jsx)(N,{nameParam:"",updatedFoodCallback:function(e){}})}})]})]})})})};var T=function(){var e=o.a.useState({init:""});return Object(i.a)(e,1)[0],Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(P,{})})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,80)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),o(e),s(e)}))};a(73);r.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),A()}},[[74,1,2]]]);
//# sourceMappingURL=main.011d0b0f.chunk.js.map